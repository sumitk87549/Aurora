<header class="navbar" [class.scrolled]="isScrolled">
  <div class="container nav-container">
    <!-- Brand Loop -->
    <a routerLink="/" class="nav-brand" (click)="closeMobileMenu()">
      <span class="brand-icon">üïØÔ∏è</span>
      <span class="brand-text">Aurora Flames</span>
    </a>

    <!-- Mobile Menu Toggle -->
    <button class="menu-toggle" (click)="toggleMobileMenu()" [class.active]="isMobileMenuOpen"
      aria-label="Toggle navigation">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <!-- Navigation Links -->
    <nav class="nav-menu" [class.active]="isMobileMenuOpen">
      <div class="nav-links">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link"
          (click)="closeMobileMenu()">Home</a>
        <a routerLink="/candles" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">Collection</a>

        <ng-container *ngIf="isLoggedIn()">
          <!-- Admin Link -->
          <a *ngIf="isAdmin()" routerLink="/admin" routerLinkActive="active" class="nav-link admin-link"
            (click)="closeMobileMenu()">
            <span class="icon">‚ö°</span> Dashboard
          </a>

          <!-- Cart Link -->
          <a routerLink="/cart" routerLinkActive="active" class="nav-link cart-link" (click)="closeMobileMenu()">
            Cart
            <span class="badge badge-warning" *ngIf="cartItemCount > 0">{{cartItemCount}}</span>
          </a>

          <!-- Wishlist Link -->
          <a routerLink="/wishlist" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">Wishlist</a>

          <!-- Profile Link -->
          <a routerLink="/profile" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">Profile</a>

          <button class="btn btn-sm btn-secondary logout-btn" (click)="logout()">Logout</button>
        </ng-container>

        <ng-container *ngIf="!isLoggedIn()">
          <div class="auth-buttons">
            <a routerLink="/login" class="nav-link" (click)="closeMobileMenu()">Login</a>
            <a routerLink="/register" class="btn btn-sm btn-primary" (click)="closeMobileMenu()">Sign Up</a>
          </div>
        </ng-container>
      </div>
    </nav>

    <!-- Overlay for mobile menu -->
    <div class="overlay" [class.active]="isMobileMenuOpen" (click)="closeMobileMenu()"></div>
  </div>
</header>