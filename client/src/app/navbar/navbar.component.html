<header class="navbar" [class.scrolled]="isScrolled">
  <div class="nav-container-full">
    <!-- Brand Loop -->
    <a routerLink="/" class="nav-brand" (click)="closeMobileMenu()">
      <span class="brand-icon">ğŸ•¯ï¸</span>
      <span class="brand-text">Aurora Flames</span>
    </a>

    <!-- Mobile Menu Toggle -->
    <button class="menu-toggle" (click)="toggleMobileMenu()" [class.active]="isMobileMenuOpen"
      aria-label="Toggle navigation">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <!-- Navigation Links -->
    <nav class="nav-menu" [class.active]="isMobileMenuOpen">
      <div class="nav-links">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link"
          (click)="closeMobileMenu()">Home</a>
        <a routerLink="/candles" routerLinkActive="active" class="nav-link" (click)="closeMobileMenu()">Collection</a>

        <ng-container *ngIf="isLoggedIn()">
          <!-- Admin Link -->
          <a *ngIf="isAdmin()" routerLink="/admin" routerLinkActive="active" class="nav-link admin-link"
            (click)="closeMobileMenu()">
            <span class="icon">âš¡</span> Dashboard
          </a>

<!-- Profile Dropdown -->
<div class="nav-item dropdown-container">
  <a  class="nav-link profile-link"
    (click)="toggleProfileDropdown()">
    <span class="user-avatar">{{ userAvatar }}</span>
    <span class="user-name">{{ userName }}</span>
    <span class="dropdown-arrow">â–¼</span>
  </a>

  <div class="dropdown-menu" [class.active]="isProfileDropdownOpen || isMobileMenuOpen">
    <a routerLink="/profile" class="dropdown-item" (click)="closeMobileMenu()">
      <span class="icon">ğŸ‘¤</span> Profile
    </a>
    <a routerLink="/cart" class="dropdown-item" (click)="closeMobileMenu()">
      <span class="icon">ğŸ›’</span> Cart ({{cartItemCount}})
    </a>
    <a routerLink="/wishlist" class="dropdown-item" (click)="closeMobileMenu()">
      <span class="icon">â¤ï¸</span> Wishlist
    </a>
    <div class="dropdown-divider"></div>
    <button class="dropdown-item logout-item" (click)="logout()">
      <span class="icon">ğŸšª</span> Logout
    </button>
  </div>
</div>
        </ng-container>

        <ng-container *ngIf="!isLoggedIn()">
          <div class="auth-buttons">
            <a routerLink="/login" class="nav-link" (click)="closeMobileMenu()">Login</a>
            <a routerLink="/register" class="btn btn-sm btn-primary" (click)="closeMobileMenu()">Sign Up</a>
          </div>
        </ng-container>
      </div>
    </nav>

    <!-- Overlay for mobile menu -->
    <div class="overlay" [class.active]="isMobileMenuOpen" (click)="closeMobileMenu()"></div>
  </div>
</header>
